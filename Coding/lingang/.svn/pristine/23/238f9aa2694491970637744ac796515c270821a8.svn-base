package com.lingang.platform.controller.home;

import java.io.IOException;
import java.util.HashMap;

import javax.annotation.Resource;

import org.codehaus.jackson.JsonGenerationException;
import org.codehaus.jackson.map.JsonMappingException;
import org.codehaus.jackson.map.ObjectMapper;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.ResponseBody;

import com.lingang.api.domain.basic.JsonResult;
import com.lingang.api.domain.basic.Page;
import com.lingang.api.domain.basic.StateCodeConstant;
import com.lingang.api.domain.entity.SysStation;
import com.lingang.api.domain.vo.SysStationVo;
import com.lingang.api.service.SysStationService;

/**
 *@Description: 后台入驻信息管理
 *@Author: lgl(lgl1012dream@foxmail.com)
 *@date:2016年12月8日 下午1:58:37
 *@Version:1.0
 */
@Controller
@RequestMapping("/sysTopStation")
public class SysTopStationController {
	
	@Resource
	private SysStationService sysStationService;
	
	/**
	 * @Description: 根据条件查询多个入驻信息
	 * @param map
	 * @return    
	 * @author lgl(lgl1012dream@foxmail.com)
	 * @throws IOException 
	 * @throws JsonMappingException 
	 * @throws JsonGenerationException 
	 * @date: 2016年12月8日 下午1:56:31
	 */
	@ResponseBody
	@RequestMapping(value = "/queryAllByTop.do", method = {RequestMethod.GET,RequestMethod.POST})
	public JsonResult queryAllByTop(@RequestBody HashMap<String, Object> map) throws JsonGenerationException, JsonMappingException, IOException{
		System.out.println("/sysTopStation/queryAllByTop.do");
		
		JsonResult jsonResult = new JsonResult();
		
		Page<SysStationVo> page = sysStationService.selectAll(map);
		
		System.out.println(page.getList().size());
		
		jsonResult.setData(page);
		jsonResult.setStateCode(StateCodeConstant.SUCCESS_CODE);
		
		ObjectMapper om = new ObjectMapper();
		String str = om.writeValueAsString(jsonResult);
		System.out.println(str);
		
		return jsonResult;
	}
	
	/**
	 * @Description: 查询指定入驻信息
	 * @param station_id
	 * @return    
	 * @author lgl(lgl1012dream@foxmail.com)
	 * @date: 2016年12月8日 下午1:56:40
	 */
	@RequestMapping(value = "/queryById.do", method = {RequestMethod.GET,RequestMethod.POST})
	public JsonResult queryById(Integer station_id){
		JsonResult jsonResult = new JsonResult();
		sysStationService.selectByPrimaryKey(station_id);
		return jsonResult;
	}
	
	/**
	 * @Description: 添加入驻信息
	 * @param station
	 * @return    
	 * @author lgl(lgl1012dream@foxmail.com)
	 * @date: 2016年12月8日 下午1:56:44
	 */
	@RequestMapping(value = "/insert.do", method = {RequestMethod.GET,RequestMethod.POST})
	public JsonResult insert(SysStation station){
		JsonResult jsonResult = new JsonResult();
		sysStationService.insert(station);
		return jsonResult;
	}
	
	/**
	 * @Description: 修改入驻信息
	 * @param station
	 * @return    
	 * @author lgl(lgl1012dream@foxmail.com)
	 * @date: 2016年12月8日 下午1:56:53
	 */
	@RequestMapping(value = "/update.do", method = {RequestMethod.GET,RequestMethod.POST})
	public JsonResult update(SysStation station){
		JsonResult jsonResult = new JsonResult();
		sysStationService.updateByPrimaryKey(station);
		return jsonResult;
	}
	
	/**
	 * @Description: 删除指定的入驻信息
	 * @param station_id
	 * @return    
	 * @author lgl(lgl1012dream@foxmail.com)
	 * @date: 2016年12月8日 下午1:56:59
	 */
	@RequestMapping(value = "/del.do", method = {RequestMethod.GET,RequestMethod.POST})
	public JsonResult del(Integer station_id){
		JsonResult jsonResult = new JsonResult();
		sysStationService.deleteByPrimaryKey(station_id);
		return jsonResult;
	}
}
