<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yd.gcj.mapper.YdMangerMapperVerified">
	
	<select id="$queryByUserId" resultType="com.yd.gcj.entity.YdMangerVerified">
		select * from yd_verified where v_uid=#{userId}
	</select>
	
	<select id="$queryById" resultType="com.yd.gcj.entity.YdMangerVerified">
		select * from yd_verified where v_id = #{id}
	</select>
	
	<select id="$queryIdByUserId" resultType="java.lang.Integer">
		select v_id from yd_verified where v_uid=#{userId}
	</select>
	
	<select id="$exsitByUserId" resultType="java.lang.Integer">
		select count(*) from yd_verified where v_uid=#{userId}
	</select>
	
	<select id="$exsitByUserPhone" resultType="java.lang.Integer">
		select count(*) from yd_verified where v_uid=(select user_id from yd_user where user_phone = #{userPhone})
	</select>
	
	<select id="$exsitById" resultType="java.lang.Integer">
		select count(*) from yd_verified where v_id = #{id}
	</select>
	
	<insert id="$insert" useGeneratedKeys="true" keyProperty="v_id">
		insert into yd_verified (v_uid,v_create_time,v_update_time) value(#{v_uid},#{v_create_time},#{v_update_time})
	</insert>
	
	<update id="$updateVName">
		update yd_verified 
		set 
			v_name = #{name},
			v_idnum = #{idNum},
			v_yos = #{yosId}
		where v_id = #{id}
	</update>
	<update id="$updateVIdCarImgA">
		update yd_verified
		set v_idcaraimg = #{idcaraimg}
		where v_id = #{id}
	</update>	
	<update id="$updateVIdCarImgB">
		update yd_verified
		set v_idcarbimg = #{idcarbimg}
		where v_id = #{id}
	</update>
	
</mapper>